# country/route.ts 
## 概要
複数のcountryデータを取得する

# country/[continent].ts 

## 概要

このファイルは、特定の大陸に属する国の情報を取得するためのAPIエンドポイントを定義しています。Next.jsのAPIルートとして機能し、クエリパラメータとして大陸名を受け取り、その大陸に属する国のデータを返します。

## 依存関係

- `NextApiRequest`と`NextApiResponse`: Next.jsのAPIハンドラーの型。
- `country_Continent`: `@prisma/client`からインポートされる型。大陸の列挙型。
- `prisma`: Prismaクライアントをインポート。

## 機能

1. **大陸名の検証**: `isValidContinent`関数を使用して、クエリパラメータとして提供された大陸名が有効かどうかを検証します。無効な場合は400ステータスコードとエラーメッセージを返します。

2. **データの取得**: Prismaクライアントを使用して、指定された大陸に属する国のデータをデータベースから取得します。選択するフィールドは、`Population`、`HeadOfState`、`Code`、`Name`、および`Continent`です。

3. **レスポンスの送信**: データの取得に成功した場合は、200ステータスコードと共に国のデータを返します。エラーが発生した場合は、500ステータスコードとエラーメッセージを返します。

## 使用方法

このAPIエンドポイントは、GETリクエストを使用してアクセスできます。例:

```
GET /api/country/Asia
```

このリクエストは、`Continent`フィールドが`Asia`の国のデータを返します。

## エラーハンドリング

- **無効な大陸名**: 大陸名が無効な場合、400ステータスコードと`{ error: "Invalid continent" }`というレスポンスを返します。
- **データベースエラー**: データの取得中にエラーが発生した場合、500ステータスコードと`{ error: "Failed to fetch countries" }`というレスポンスを返します。

## 注意点

- Prismaクライアントの設定が正しく行われていることを確認してください。
- データベースに正しいデータが含まれていることを確認してください。